{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% crispy form %}
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'CSS/design.css' %}">
  {% block title %}
  <title>MAPS Registration</title>
  {% endblock %}

  {% block extrahead%}
  {{form.media}}
  <link rel="stylesheet" href="{% static '/admin-lte/plugins/fontawesome-free/css/all.min.css' %}">
  {% endblock%}
</head>
{% block content%}

<body class="register-page">
  <div class="container-fluid pt-3">
    <div class="row justify-content-center">
      {% if signup_modal_shown %}
      <div class="modal fade" id="staticBackdrop2" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdrop2Label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
          <div class="modal-content">

            <div class="modal-body text-center px-0 py-0">
              <h1 class="mb-3 mt-2 display-5">Who are you?</h1>

              <div class="card rounded-0 pb-3 w-100" id="signup-cards-new">
                <div class="row my-4">
                  <a href="#" class="text-decoration-none text-white" data-bs-dismiss="modal">
                    <h2 class="mb-2 text-white display-6 text-center">
                      New Student</h2>
                  </a>
                </div>
              </div>
              <div class="card rounded-0 pb-3 w-100" id="signup-cards-registered">
                <div class="row my-4">
                  <a href="{% url 'two_factor:login'%}" class="text-decoration-none text-white">
                    <h2 class="mb-2 text-white display-6 text-white">
                      Registered User</h2>
                  </a>
                </div>
              </div>
              <div class="card rounded-0 pb-3 w-100" id="signup-cards-editor">
                <div class="row my-4">
                  <a href="http://127.0.0.1:8000/account/login/?next=/cms/" class="text-decoration-none text-white">
                    <h2 class="mb-2 text-white display-6">
                      Editor</h2>
                  </a>
                </div>
              </div>
              <div class="card rounded-0 pb-3 w-100" id="signup-cards-teacher">
                <div class="row my-4">
                  <a href="{% url 'admin:index'%}" class="text-decoration-none text-white">
                    <h2 class="mb-2 text-white display-6">
                      Teacher</h2>
                  </a>
                </div>
              </div>
              <div class="card rounded-0 pb-3 w-100" id="signup-cards-admin">
                <div class="row my-4">
                  <a href="{% url 'admin:index'%}" class="text-decoration-none text-white">
                    <h2 class="mb-2 text-white display-6">
                      Admin</h2>
                  </a>
                </div>
              </div>
            </div>


          </div>
        </div>
      </div>
      {% endif %}
      <!-- Modal -->
      <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header bg-primary">
              <h5 class="modal-title text-center text-white" id="staticBackdropLabel">Data Privacy Policy
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <h4>Introduction</h4>
              <p>This document outlines the data privacy policy for the Multi-information Academic Portal
                for Students or MAPS of San Jose Litex Senior High School. MAPS is a web-based platform
                that allows students to access various academic and administrative services, such as
                enrollment, grades, schedule, announcements and advisories, module resources, and career
                services.</p>

              <h4>Personal and sensitive personal information</h4>
              <p>MAPS collects, uses, stores, and discloses personal and sensitive personal information of
                students, such as name, student number, email address, academic records, and other
                information relevant to the provision of the services. The student portal also uses
                cookies and other technologies to enhance the functionality and security of the
                platform.</p>

              <h4>Data privacy compliance</h4>
              <p>MAPS processes personal and sensitive personal information in accordance with the
                Philippine Data Privacy Act of 2012 (DPA) and its implementing rules and regulations
                (IRR), as well as the policies and guidelines of San Jose Litex Senior High School and
                the University of the Philippines System. MAPS respects the rights of data subjects to
                access, correct, object, erase, or withdraw consent to the processing of their personal
                and sensitive personal information, subject to certain limitations and conditions.</p>

              <h4>Data security and access control</h4>
              <p>MAPS implements reasonable and appropriate physical, organizational, and technical
                measures to protect personal and sensitive personal information from unauthorized
                access, use, modification, disclosure, or destruction. MAPS also ensures that only
                authorized personnel have access to personal and sensitive personal information on a
                need-to-know basis.</p>

              <h4>Data sharing and transfers</h4>
              <p>MAPS may also transfer personal and sensitive personal information to other
                jurisdictions, subject to compliance with applicable laws and regulations.</p>

              <h4>Changes to the policy</h4>
              <p>MAPS may update this data privacy policy from time to time to reflect changes in the
                legal or regulatory environment, or in the operations or services of the platform. MAPS
                will notify students of any material changes through email or other means of
                communication.</p>

              <h4>Consent and responsibility</h4>
              <p>By accessing or using MAPS, students agree to this data privacy policy and consent to the
                processing of their personal and sensitive personal information as described herein.
                Students are responsible for keeping their login credentials confidential and for
                logging out of the platform after each session. Students are also encouraged to review
                this data privacy policy periodically and to contact us if they have any questions or
                concerns.</p>

            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Understood</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="staticBackdropTAC" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header bg-primary">
              <h5 class="modal-title text-center text-white" id="staticBackdropLabel">Terms and Conditions
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <h1>Terms and Conditions of the Multi-information Academic Portal for Students (MAPS)</h1>
              <p>Welcome to the Multi-information Academic Portal for Students (MAPS) provided by San Jose-Litex Senior
                High School. Before using the MAPS platform, please read the following terms and conditions carefully.
                By accessing or using the MAPS platform, you agree to be bound by these terms and conditions.</p>
              <h2>Acceptance of Terms</h2>
              <p>By accessing and using the MAPS platform, you acknowledge that you have read, understood, and agreed to
                comply with these terms and conditions. If you do not agree with any of these terms, please refrain from
                using the platform.</p>
              <h2>User Responsibilities</h2>
              <ol>
                <li>You must provide accurate and complete information during the registration process.</li>
                <li>You are responsible for maintaining the confidentiality of your account credentials and for any
                  activities conducted under your account.</li>
                <li>You must use the MAPS platform in compliance with all applicable laws, regulations, and school
                  policies.</li>
              </ol>
              <h2>Intellectual Property Rights</h2>
              <ol>
                <li>The content, materials, and features available on the MAPS platform, including but not limited to
                  text, images, graphics, logos, and software, are protected by intellectual property laws and are the
                  property of San Jose-Litex Senior High School or its licensors.</li>
                <li>You may not modify, copy, distribute, transmit, display, perform, reproduce, publish, license,
                  create derivative works from, transfer, or sell any information, software, products, or services
                  obtained from the MAPS platform without prior written permission from the school.</li>
              </ol>
              <h2>Disclaimer of Warranty</h2>
              <ol>
                <li>The MAPS platform is provided on an "as is" and "as available" basis. San Jose-Litex Senior High
                  School does not warrant that the platform will be error-free, uninterrupted, or secure.</li>
                <li>San Jose-Litex Senior High School does not guarantee the accuracy, completeness, or reliability of
                  any information, content, or materials available on the MAPS platform.</li>
              </ol>
              <h2>Limitation of Liability</h2>
              <ol>
                <li>San Jose-Litex Senior High School and its affiliates shall not be liable for any direct, indirect,
                  incidental, special, or consequential damages arising out of or in connection with the use or
                  inability to use the MAPS platform.</li>
                <li>San Jose-Litex Senior High School does not assume any responsibility for the conduct of users or
                  third parties on the platform.</li>
              </ol>

              <h2>Governing Law and Jurisdiction</h1>
              <p>These terms and conditions shall be governed by and construed in accordance with the laws of the
                Philippines. Any disputes arising out of or in connection with these terms and conditions shall be
                subject to the exclusive jurisdiction of the courts located in the Philippines.</p>

              <h2>Modifications</h2>
              <p>San Jose-Litex Senior High School reserves the right to modify or amend these terms and conditions at
                any time. The updated terms and conditions will be posted on the MAPS platform, and your continued use
                of the platform after any modifications will constitute your acceptance of the updated terms.</p>

              <p>Please note that these terms and conditions are subject to additional policies and guidelines within
                the MAPS platform. It is recommended to review these terms regularly to stay informed of any updates.
              </p>

              <p>If you have any questions or concerns regarding these terms and conditions, please contact us at <a
                  href="mailto:[contact email]">[contact email]</a>.</p>

              <p>Last updated: [date]</p>

              <p>By using the MAPS platform, you signify your acceptance and agreement to these terms and conditions.
              </p>

            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Understood</button>
            </div>
          </div>
        </div>
      </div>


      <div class="container mb-5">
        <div class="row justify-content-center">
          <div class="col-md-8 col-lg-6">
            <div class="card shadow-lg">
              <div class="card-header bg-primary text-white">
                <h2 class="text-center"><i class="far fas fa-user-circle mx-2"></i>Registration</h2>
                <p class="text-center">Please input your exact enrollment details as this will be the basis for account
                  verification.</p>
              </div>
              <div class="card-body">
                <form method="post" enctype='multipart/form-data'> {% csrf_token %}
                  <div class="mb-3">
                    {{form.lrn|as_crispy_field}}
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="mb-3">

                        {{form.last_name|as_crispy_field}}
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="mb-3">
                        {{form.first_name|as_crispy_field}}
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    {{form.grade_year|as_crispy_field}}
                  </div>
                  <div class="mb-3">
                    {{form.enrollment_status|as_crispy_field}}
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="mb-3">

                        {{form.birthday|as_crispy_field}}
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="mb-3">
                        {{form.age|as_crispy_field}}
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    {{form.username|as_crispy_field}}
                  </div>
                  <div class="mb-3">
                    {{form.email|as_crispy_field}}
                  </div>
                  <div class="mb-3">
                    {{form.parent_email|as_crispy_field}}
                  </div>
                  <div class="mb-3">
                    {{form.password1|as_crispy_field}}
                  </div>
                  <div class="mb-3">
                    {{form.password2|as_crispy_field}}
                  </div>
                  <div class="mb-3">
                    {{form.image_id|as_crispy_field}}
                  </div>
                  <div class="mb-3 form-check">
                    {{form.data_privacy_agreed|as_crispy_field}}
                    <label class="form-check-label" for="{{form.data_privacy_agreed.id_for_label}}">
                      <a href="#" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Data Privacy Policy</a>.
                    </label>
                  </div>
                  <div class="mb-3 form-check">
                    {{form.terms_agreed|as_crispy_field}}
                    <label class="form-check-label" for="{{form.terms_agreed.id_for_label}}">
                      <a href="#" data-bs-toggle="modal" data-bs-target="#staticBackdropTAC">Terms and Conditions</a>.
                    </label>
                  </div>
                  <div class="form-group text-center">
                    <button type="submit" class="btn btn-primary"><i class="far fas fa-check mx-1"></i>Submit</button>
                  </div>
                </form>
                <div class="text-center">
                  <p>Already have an account? <a href="{% url 'two_factor:login' %}">Log in</a>.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    $(document).ready(function () {
      $('#staticBackdrop2').modal('show');

      // Show/hide teacher login form on button click
      $('#teacher-login-btn').click(function () {
        $('#student-login').fadeOut(300, function () {
          $('#teacher-login').fadeIn(300);
        });
      });
    });

    $('form').submit(function () {
      // disable submit button
      $(this).find(':submit').attr('disabled', 'disabled');
      // show loading message
      $(this).append('<div class="loading-message">Loading...</div>');
    });
  </script>
</body>
{% endblock %}

</html>